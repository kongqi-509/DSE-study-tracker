<!DOCTYPE html>
<html lang="zh-HK">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>DSEæ¯æ—¥å­¸ç¿’æ‰“å¡</title>

<style>
:root {
Â Â --primary: #0052cc;
Â Â --bg: #f4f7ff;
Â Â --text: #222;
Â Â --panel: #fff;
Â Â --accent: #4caf50;
}
@media (prefers-color-scheme: dark) {
Â Â :root {
Â Â Â Â --primary: #4a90e2;
Â Â Â Â --bg: #1e1e1e;
Â Â Â Â --text: #f0f0f0;
Â Â Â Â --panel: #2a2a2a;
Â Â Â Â --accent: #00cc66;
Â Â }
}
body {
Â Â font-family: "Noto Sans TC", sans-serif;
Â Â background: var(--bg);
Â Â color: var(--text);
Â Â margin: 0;
}
header {
Â Â background: var(--primary);
Â Â color: white;
Â Â text-align: center;
Â Â padding: 1rem;
}
#clock { font-size: 1.2rem; margin-top: 0.3rem; font-weight: bold; }
main {
Â Â background: var(--panel);
Â Â max-width: 750px;
Â Â margin: 1rem auto;
Â Â border-radius: 12px;
Â Â padding: 1rem;
Â Â box-shadow: 0 0 8px rgba(0,0,0,0.15);
}
h2 {
Â Â border-left: 6px solid var(--primary);
Â Â padding-left: 0.4rem;
Â Â font-size: 1rem;
}
#suggestion {
Â Â background: #e8f0ff;
Â Â padding: 0.8rem;
Â Â border-radius: 8px;
Â Â margin-bottom: 1rem;
Â Â font-size: 0.9rem;
}
table {
Â Â width: 100%;
Â Â border-collapse: collapse;
Â Â margin-top: 0.5rem;
}
th, td {
Â Â border: 1px solid #ccc;
Â Â padding: 0.5rem;
Â Â text-align: center;
}
th { background: var(--primary); color: white; }
td.school { background: #f0f0f0; color: #777; }
.subject-input {
Â Â width: 100%; border: none; border-bottom: 1px solid #ccc;
Â Â background: transparent; text-align: center; font-size: 0.9rem; color: var(--text);
}
input[type=checkbox]{ transform: scale(1.3); }
.buttons { text-align: center; margin: 1rem 0; }
button {
Â Â background: var(--primary);
Â Â color: white;
Â Â border: none;
Â Â border-radius: 6px;
Â Â padding: 0.6rem 1rem;
Â Â margin: 0.3rem;
Â Â font-size: 0.9rem;
Â Â cursor: pointer;
}
button.clear { background:#666; }
button.export { background: var(--accent); }

.progress-bar {
Â Â width:100%;
Â Â background:#ddd;
Â Â height:16px;
Â Â border-radius:8px;
Â Â overflow:hidden;
}
.progress-fill {
Â Â height:100%; width:0;
Â Â background:var(--accent);
Â Â transition: width 0.4s ease, background 0.4s ease;
}
.progress-label { text-align:right; font-size:0.85rem; margin-top:0.3rem; }

.toast {
Â Â position:fixed;
Â Â bottom:20px;
Â Â left:50%;
Â Â transform:translateX(-50%);
Â Â background:var(--primary);
Â Â color:white;
Â Â padding:0.6rem 1rem;
Â Â border-radius:6px;
Â Â opacity:0;
Â Â transition:opacity 0.5s;
Â Â z-index:999;
}
.toast.show {opacity:1;}

footer {
Â Â text-align:center;
Â Â font-size:0.8rem;
Â Â color:#888;
Â Â margin:1rem 0;
}
@media(max-width:600px){
Â table,th,td{font-size:0.8rem;}
Â h1{font-size:1.1rem;}
}
</style>
</head>

<body>
<header>
Â Â <h1>ğŸ“š DSE å­¸ç¿’æ‰“å¡ç³»çµ±</h1>
Â Â <div id="date"></div>
Â Â <div id="clock">--:--:--</div>
</header>

<main>
Â Â <h2>ğŸ§  ä»Šæ—¥å»ºè­°ç§‘ç›®</h2>
Â Â <div id="suggestion">è¼‰å…¥ä¸­...</div>

Â Â <h2>ğŸ—“ï¸ ä»Šæ—¥æ‰“å¡</h2>
Â Â <table><thead>
Â Â Â Â <tr><th>æ™‚é–“</th><th>å…§å®¹</th><th>å®Œæˆ</th></tr>
Â Â </thead><tbody id="scheduleBody"></tbody></table>

Â Â <div class="buttons">
Â Â Â Â <button id="save">ğŸ’¾ å„²å­˜ä»Šæ—¥ç´€éŒ„</button>
Â Â Â Â <button id="clear" class="clear">ğŸ§¹ æ¸…é™¤</button>
Â Â Â Â <button id="export" class="export">ğŸ“¤ åŒ¯å‡ºæœ¬é€±å ±å‘Š</button>
Â Â </div>

Â Â <h2>ğŸ“Š æœ¬é€±å®Œæˆç‡</h2>
Â Â <div class="progress-bar"><div class="progress-fill" id="pfill"></div></div>
Â Â <div class="progress-label" id="plabel">0%</div>
</main>

<footer>Â© 2025 DSE Study Tracker</footer>
<div class="toast" id="toast">âœ… å·²å„²å­˜ï¼</div>

<script>
// ğŸ•’ æ™‚é˜
function updateClock(){
Â Â const n=new Date();
Â Â document.getElementById("clock").innerText=
Â Â Â Â n.toLocaleTimeString("zh-HK",{hour12:false});
}
setInterval(updateClock,1000); updateClock();

// ğŸ“… æ—¥æœŸé¡¯ç¤º
const today=new Date();
const week="æ—¥ä¸€äºŒä¸‰å››äº”å…­"[today.getDay()];
document.getElementById("date").innerText=
Â Â `${today.getFullYear()}å¹´${today.getMonth()+1}æœˆ${today.getDate()}æ—¥ï¼ˆæ˜ŸæœŸ${week}ï¼‰`;

// âœ”ï¸ keyPrefix
const keyPrefix=`${today.getFullYear()}-${String(today.getMonth()+1).padStart(2,"0")}-${String(today.getDate()).padStart(2,"0")}`;

// ğŸ¯ å»ºè­°ç§‘ç›®
const plan={
Â Â 1:{main:"ä¸­æ–‡",sub:"è‹±æ–‡"},2:{main:"æ•¸å­¸",sub:"åŒ–å­¸"},
Â Â 3:{main:"ICT",sub:"è‹±æ–‡"},4:{main:"æ•¸å­¸",sub:"ä¸­æ–‡"},
Â Â 5:{main:"åŒ–å­¸",sub:"ICT"},6:{main:"Past Paper æ¨¡æ“¬",sub:"å¼±ç§‘é‡é»"},
Â Â 0:{main:"è‡ªç”±æº«ç¿’ï¼ä¼‘æ¯",sub:"éŒ¯é¡Œæ•´ç†"}
};
const tp=plan[today.getDay()];
document.getElementById("suggestion").innerHTML=
Â Â `ğŸ’¡ <b>ä¸»ç§‘ï¼š</b>${tp.main}<br>ğŸ§© <b>å‰¯ç§‘ï¼š</b>${tp.sub}`;

// â° æ™‚æ®µ
const tbody=document.getElementById("scheduleBody");
let schedule=[];
if(today.getDay()>=1&&today.getDay()<=5){
Â Â schedule=[
Â Â Â Â {time:"08:00â€“16:30",school:true,label:"å­¸æ ¡ä¸Šèª²æ™‚é–“"},
Â Â Â Â {time:"17:00â€“18:00"},
Â Â Â Â {time:"18:00â€“19:30"},
Â Â Â Â {time:"19:30â€“21:00"},
Â Â Â Â {time:"21:00â€“22:30"}];
}else{
Â Â schedule=[
Â Â Â Â {time:"09:00â€“10:30"},{time:"10:30â€“12:00"},
Â Â Â Â {time:"13:00â€“14:30"},{time:"14:30â€“16:00"},
Â Â Â Â {time:"16:00â€“17:30"},{time:"19:00â€“20:30"},
Â Â Â Â {time:"20:30â€“22:00"}];
}

schedule.forEach((s,i)=>{
Â Â const tr=document.createElement("tr");
Â Â if(s.school){
Â Â Â Â tr.innerHTML=`<td>${s.time}</td><td class="school">${s.label}</td><td>ğŸ«</td>`;
Â Â }else{
Â Â Â Â tr.innerHTML=`
Â Â Â Â Â Â <td>${s.time}</td>
Â Â Â Â Â Â <td><input id="s${i}" class="subject-input" placeholder="å­¸ç¿’å…§å®¹"></td>
Â Â Â Â Â Â <td><input type="checkbox" id="c${i}"></td>`;
Â Â }
Â Â tbody.appendChild(tr);
});
const ids=schedule.filter(s=>!s.school)
Â Â .flatMap((_,i)=>["s"+i,"c"+i]);

function toast(msg){
Â Â const el=document.getElementById("toast");
Â Â el.innerText=msg;
Â Â el.classList.add("show");
Â Â setTimeout(()=>el.classList.remove("show"),2000);
}

// ğŸ§© å„²å­˜ + è¼‰å…¥
function saveData(){
Â Â ids.forEach(id=>{
Â Â Â Â const el=document.getElementById(id);
Â Â Â Â if(el) localStorage.setItem(keyPrefix+"_"+id, el.type==="checkbox"?el.checked:el.value);
Â Â });
Â Â toast("âœ… ä»Šæ—¥ç´€éŒ„å·²å„²å­˜ï¼");
Â Â updateProgress();
}
function loadData(){
Â Â ids.forEach(id=>{
Â Â Â Â const el=document.getElementById(id);
Â Â Â Â const val=localStorage.getItem(keyPrefix+"_"+id);
Â Â Â Â if(val!==null){
Â Â Â Â Â Â if(el.type==="checkbox") el.checked=(val==="true");
Â Â Â Â Â Â else el.value=val;
Â Â Â Â }
Â Â });
}
function clearData(){
Â Â if(confirm("ç¢ºå®šè¦æ¸…é™¤ä»Šæ—¥ç´€éŒ„ï¼Ÿ")){
Â Â Â Â ids.forEach(id=>localStorage.removeItem(keyPrefix+"_"+id));
Â Â Â Â location.reload();
Â Â }
}
document.getElementById("save").onclick=saveData;
document.getElementById("clear").onclick=clearData;
loadData();

// ğŸ“Š é€²åº¦æ¢
function updateProgress(){
Â Â const now=new Date();
Â Â let total=0,done=0;
Â Â for(let i=0;i<7;i++){
Â Â Â Â const d=new Date(now); d.setDate(now.getDate()-i);
Â Â Â Â const k=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`;
Â Â Â Â schedule.forEach((s,idx)=>{
Â Â Â Â Â Â if(!s.school){
Â Â Â Â Â Â Â Â const val=localStorage.getItem(k+"_c"+idx);
Â Â Â Â Â Â Â Â if(val!==null){total++; if(val==="true")done++;}
Â Â Â Â Â Â }
Â Â Â Â });
Â Â }
Â Â const per=total?Math.round(done/total*100):0;
Â Â const fill=document.getElementById("pfill");
Â Â const lbl=document.getElementById("plabel");
Â Â fill.style.width=per+"%";
Â Â fill.style.background=per<50?"#ff4d4d":(per<80?"#ffc107":"var(--accent)");
Â Â lbl.innerText=per+"%";
}
document.querySelectorAll("input[type='checkbox']").forEach(c=>c.onchange=updateProgress);
updateProgress();

// ğŸ“¤ åŒ¯å‡º CSV
document.getElementById("export").addEventListener("click",()=>{
Â Â let csv="æ—¥æœŸ,æ™‚é–“,å­¸ç¿’å…§å®¹,å®Œæˆ\n";
Â Â for(let i=0;i<7;i++){
Â Â Â Â const d=new Date(); d.setDate(d.getDate()-i);
Â Â Â Â const k=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`;
Â Â Â Â schedule.forEach((s,idx)=>{
Â Â Â Â Â Â if(!s.school){
Â Â Â Â Â Â Â Â const subject=localStorage.getItem(k+"_s"+idx)||"";
Â Â Â Â Â Â Â Â const done=localStorage.getItem(k+"_c"+idx)==="true"?"âœ”":"";
Â Â Â Â Â Â Â Â csv+=`${k},${s.time},${subject},${done}\n`;
Â Â Â Â Â Â }
Â Â Â Â });
Â Â }
Â Â const blob=new Blob(["\uFEFF"+csv],{type:"text/csv;charset=utf-8"});
Â Â const link=document.createElement("a");
Â Â link.href=URL.createObjectURL(blob);
Â Â link.download="DSE-Week-Report.csv";
Â Â link.click();
Â Â toast("ğŸ“¤ å·²åŒ¯å‡ºæœ¬é€±å ±å‘Šï¼");
});
</script>
</body>
</html>æˆ‘
